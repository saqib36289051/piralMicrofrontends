{
  "version": 3,
  "sources": ["../../src/index.ts"],
  "sourcesContent": ["import type { Plugin } from 'vite';\nimport { createRequire } from 'module';\n\nconst requireModule = createRequire(__filename);\n\nfunction reloadGenerator(name: string) {\n  const path = requireModule.resolve(name);\n  delete requireModule.cache[path];\n  return requireModule(name);\n}\n\nexport default function codegen(options = { outDir: 'dist', rootDir: process.cwd() }): Plugin {\n  return {\n    name: 'codegen',\n    resolveId(source) {\n      if (source.endsWith('.codegen')) {\n        return source;\n      }\n\n      return null;\n    },\n    load(name) {\n      if (name.endsWith('.codegen')) {\n        const generator = reloadGenerator(name);\n\n        return generator.call({\n          name,\n          options,\n          addDependency: (file) => {\n            this.addWatchFile(file);\n          },\n        });\n      }\n\n      return null;\n    },\n  };\n}\n"],
  "mappings": ";AACA,SAAS,qBAAqB;AAE9B,IAAM,gBAAgB,cAAc,eAAU;AAE9C,SAAS,gBAAgB,MAAc;AACrC,QAAM,OAAO,cAAc,QAAQ,IAAI;AACvC,SAAO,cAAc,MAAM,IAAI;AAC/B,SAAO,cAAc,IAAI;AAC3B;AAEe,SAAR,QAAyB,UAAU,EAAE,QAAQ,QAAQ,SAAS,QAAQ,IAAI,EAAE,GAAW;AAC5F,SAAO;AAAA,IACL,MAAM;AAAA,IACN,UAAU,QAAQ;AAChB,UAAI,OAAO,SAAS,UAAU,GAAG;AAC/B,eAAO;AAAA,MACT;AAEA,aAAO;AAAA,IACT;AAAA,IACA,KAAK,MAAM;AACT,UAAI,KAAK,SAAS,UAAU,GAAG;AAC7B,cAAM,YAAY,gBAAgB,IAAI;AAEtC,eAAO,UAAU,KAAK;AAAA,UACpB;AAAA,UACA;AAAA,UACA,eAAe,CAAC,SAAS;AACvB,iBAAK,aAAa,IAAI;AAAA,UACxB;AAAA,QACF,CAAC;AAAA,MACH;AAEA,aAAO;AAAA,IACT;AAAA,EACF;AACF;",
  "names": []
}
